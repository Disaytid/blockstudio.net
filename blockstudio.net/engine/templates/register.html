<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Регистрация</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="description" content="Регистрация на Block Studio">
    <meta name="author" content="KaijuThemes">

    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet' type='text/css'>
    <link type="text/css" href="http://s1.blockstudio.net/blockstudio-net/assets/plugins/iCheck/skins/minimal/blue.css" rel="stylesheet">
    <link type="text/css" href="/assets/fonts/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link type="text/css" href="http://s1.blockstudio.net/blockstudio-net/assets/css/styles.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries. Placeholdr.js enables the placeholder attribute -->
    <!--[if lt IE 9]>
        <link type="text/css" href="http://s1.blockstudio.net/blockstudio-net/assets/css/ie8.css" rel="stylesheet">
        <script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- The following CSS are included as plugins and can be removed if unused-->
    
    </head>

    <body class="focused-form">
        
        
<div class="container" id="registration-form">
	<a href="/" class="login-logo"><img src="http://s1.blockstudio.net/blockstudio-net/logo/logo-text-part.png"></a>
	<div class="row">
		<div class="col-md-4 col-md-offset-4">
			<div class="panel panel-default">
				<div class="panel-heading"><h2>Форма регистрации</h2></div>
				<div class="panel-body">
					<form action="" class="form-horizontal">
						<div class="form-group">
							<label for="Username" class="col-xs-4 control-label">Логин</label>
	                        <div class="col-xs-8">
	                        	<input type="text" class="form-control" name="Username" id="Username" placeholder="Username" required>
	                        </div>
						</div>
						<div class="form-group">
							<label for="Email" class="col-xs-4 control-label">Электронная почта</label>
	                        <div class="col-xs-8">
	                        	<input type="text" class="form-control" name="Email" id="Email" placeholder="Email" required>
	                        </div>
						</div>
						<div class="form-group">
							<label for="Password" class="col-xs-4 control-label">Пароль</label>
	                        <div class="col-xs-8">
	                        	<input type="password" class="form-control" name="Password" id="Password" placeholder="Password" required>
	                        </div>
						</div>
						<div class="form-group">
							<label for="ConfirmPassword" class="col-xs-4 control-label">Подтверждение пароля</label>
	                        <div class="col-xs-8">
	                        	<input type="password" class="form-control" name="ConfirmPassword" id="ConfirmPassword" placeholder="Confirm Password" required>
	                        </div>
						</div>
						<!--<div class="form-group">
							<div class="col-xs-12">
								<div class="checkbox icheck">
									<label for=""><input type="checkbox" /> Я согласен с <a href="">правилами Block Studio</a></label>
								</div>
							</div>
						</div>-->
						
					</form>
					<div class="panel-footer">
						<div class="clearfix">
							<a href="/auth/login" class="btn btn-default pull-left">Уже зарегистрированы?</a>
							<a href="#" onclick="Register()" class="btn btn-primary pull-right">Регистрация</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

    
    
    <!-- Load site level scripts -->

<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script> -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/js/jquery-1.10.2.min.js"></script> 							<!-- Load jQuery -->
<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/js/jqueryui-1.9.2.min.js"></script> 							<!-- Load jQueryUI -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/js/bootstrap.min.js"></script> 								<!-- Load Bootstrap -->


<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/easypiechart/jquery.easypiechart.js"></script> 		<!-- EasyPieChart-->
<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/sparklines/jquery.sparklines.min.js"></script>  		<!-- Sparkline -->
<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/jstree/dist/jstree.min.js"></script>  				<!-- jsTree -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/codeprettifier/prettify.js"></script> 				<!-- Code Prettifier  -->
<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/bootstrap-switch/bootstrap-switch.js"></script> 		<!-- Swith/Toggle Button -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/bootstrap-tabdrop/js/bootstrap-tabdrop.js"></script>  <!-- Bootstrap Tabdrop -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/iCheck/icheck.min.js"></script>     					<!-- iCheck -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/js/enquire.min.js"></script> 									<!-- Enquire for Responsiveness -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/bootbox/bootbox.js"></script>							<!-- Bootbox -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/simpleWeather/jquery.simpleWeather.min.js"></script> <!-- Weather plugin-->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/nanoScroller/js/jquery.nanoscroller.min.js"></script> <!-- nano scroller -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/plugins/jquery-mousewheel/jquery.mousewheel.min.js"></script> 	<!-- Mousewheel support needed for jScrollPane -->

<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/js/application.js"></script>
<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/demo/demo.js"></script>
<script type="text/javascript" src="http://s1.blockstudio.net/blockstudio-net/assets/demo/demo-switcher.js"></script>

<!-- End loading site level scripts -->
    <!-- Load page level scripts-->
	<script src='http://api.blockstudio.net/static/openapi.js'></script>
    <script>
		BlockStudio.config.cors = true;
	
		function Register()
		{
			if(!document.getElementById('Username').value || !document.getElementById('Password').value || !document.getElementById('Email').value) {
				alert('Вы не заполнили все поля');
				return;
			}
			if(document.getElementById('Password').value != document.getElementById('ConfirmPassword').value) {
				alert("Пароли не совпадают");
				return;
			}
			BlockStudio.query('user', 'register', {'login': document.getElementById('Username').value, 'password': document.getElementById('Password').value, 'email': document.getElementById('Email').value}, function(data) { 
				console.log(data);
				data = JSON.parse(data);
				if(data.answer != false) {
					localStorage.removeItem('data');
					window.location = '/auth/login';
				}
				else {
					alert('Произошла ошибка во время регистрации. Возможно, имя уже занято.');
				}
			});
		}
	</script>
    <!-- End loading page level scripts-->
    </body>
</html>